/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CPMGanttPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian5 = require("obsidian");

// src/views/CPMView.ts
var import_obsidian4 = require("obsidian");

// src/models/tasks.ts
var Task = class {
  constructor(id, name, responsible, duration, dependency = []) {
    this.id = id;
    this.name = name;
    this.responsible = responsible;
    this.duration = duration;
    this.dependency = dependency;
    this.earlyStart = 0;
    this.earlyFinish = 0;
    this.lateFinish = 0;
    this.lateStart = 0;
    this.slack = 0;
    this.isCritical = false;
  }
  createNode(i) {
    let node = {
      id: `${this.id}`,
      type: "text",
      text: `[[${this.name}]]`,
      x: `${this.earlyStart * 130}`,
      y: `${i * 50}`,
      width: `${this.duration * 130} `,
      height: 50,
      color: `${this.isCritical ? 1 : 5}`
    };
    return node;
  }
  // Gera arestas para TODAS as dependências desta tarefa
  createEdges() {
    const edges = [];
    for (const depTask of this.dependency) {
      edges.push({
        id: `edge-${depTask.id}-to-${this.id}`,
        // ID da aresta mais específico
        fromNode: `${depTask.id}`,
        fromSide: "right",
        toNode: `${this.id}`,
        toSide: "left"
      });
    }
    return edges;
  }
};

// src/controllers/drawGanttController.ts
function drawGantt(tasks, maxEndDate, chartContainer) {
  chartContainer.innerHTML = "";
  const chartWidth = 500;
  const scale = chartWidth / (maxEndDate || 1);
  const barHeight = 20;
  const rowHeight = 30;
  chartContainer.setAttribute("height", (tasks.length * rowHeight + 20).toString());
  for (let i = 0; i <= maxEndDate; i++) {
    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
    text.setAttribute("x", (i * scale).toString());
    text.setAttribute("y", "15");
    text.setAttribute("font-size", "12");
    text.setAttribute("fill", "#333");
    text.textContent = i.toString();
    chartContainer.appendChild(text);
  }
  tasks.forEach((task, index) => {
    const x = (task.earlyStart || 0) * scale;
    const y = index * rowHeight + 10;
    const width = (task.duration || 0) * scale;
    const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    rect.setAttribute("x", x.toString());
    rect.setAttribute("y", y.toString());
    rect.setAttribute("width", width.toString());
    rect.setAttribute("height", barHeight.toString());
    rect.setAttribute("fill", task.isCritical ? "#ef4444" : "#3b82f6");
    rect.setAttribute("rx", "5");
    chartContainer.appendChild(rect);
    const label = document.createElementNS("http://www.w3.org/2000/svg", "text");
    label.setAttribute("x", (x + 5).toString());
    label.setAttribute("y", (y + barHeight / 2 + 5).toString());
    label.setAttribute("fill", "white");
    label.setAttribute("font-size", "12");
    label.textContent = task.name;
    chartContainer.appendChild(label);
  });
}

// src/controllers/calculateCPMcontroller.ts
function calculateCPM(taskList) {
  taskList.forEach((task) => {
    task.earlyStart = 0;
    task.earlyFinish = 0;
    task.lateStart = 0;
    task.lateFinish = 0;
    task.slack = 0;
    task.isCritical = false;
  });
  taskList.forEach((task) => {
    if (task.dependency.length > 0) {
      const maxPredecessorEF = Math.max(0, ...task.dependency.map((dep) => {
        const predecessor = taskList.find((p) => p.id === dep.id);
        return (predecessor == null ? void 0 : predecessor.earlyFinish) || 0;
      }));
      task.earlyStart = maxPredecessorEF;
    } else {
      task.earlyStart = 0;
    }
    task.earlyFinish = (task.earlyStart || 0) + task.duration;
  });
  let maxEndDate = 0;
  taskList.forEach((task) => {
    if (task.earlyFinish !== void 0) {
      maxEndDate = Math.max(maxEndDate, task.earlyFinish);
    }
  });
  [...taskList].reverse().forEach((task) => {
    const successors = taskList.filter(
      (successor) => successor.dependency.some((dep) => dep.id === task.id)
    );
    if (successors.length > 0) {
      task.lateFinish = Math.min(...successors.map((s) => s.lateStart === void 0 ? Infinity : s.lateStart));
    } else {
      task.lateFinish = maxEndDate;
    }
    task.lateStart = (task.lateFinish === void 0 ? maxEndDate : task.lateFinish) - task.duration;
    task.slack = (task.lateStart || 0) - (task.earlyStart || 0);
    task.isCritical = task.slack === 0;
    if (Object.is(task.slack, -0))
      task.slack = 0;
    task.isCritical = task.slack === 0;
  });
  return { tasks: taskList, maxEndDate };
}

// src/controllers/saveToCanvasController.ts
var import_obsidian = require("obsidian");
async function saveToCanvas(tasks, app) {
  const activeFile = app.workspace.getActiveFile();
  if (!activeFile) {
    new import_obsidian.Notice("\u26A0\uFE0F Nenhuma nota ativa. N\xE3o \xE9 poss\xEDvel salvar o canvas.");
    return;
  }
  const canvasFileName = `${activeFile.basename}Gantt.canvas`;
  const folderPath = activeFile.parent ? activeFile.parent.path : "";
  const newCanvasFilePath = (0, import_obsidian.normalizePath)(`${folderPath}/${canvasFileName}`);
  let canvasData = {
    nodes: [],
    edges: []
  };
  let totalDays = 0;
  for (let i = 0; i < tasks.length; i++) {
    const task = tasks[i];
    if (task.earlyFinish > totalDays) {
      totalDays = task.earlyFinish;
    }
    if (task.earlyStart !== void 0) {
      let node = task.createNode(i);
      canvasData.nodes.push(node);
      if (task.dependency && task.dependency.length > 0) {
        const newEdges = task.createEdges();
        canvasData.edges.push(...newEdges);
      }
    }
  }
  for (let i = 0; i < totalDays; i++) {
    const day = {
      id: `day-${i + 1}`,
      type: "text",
      text: `${i + 1}`,
      x: `${i * 130}`,
      y: -120,
      width: 130,
      height: 50
    };
    canvasData.nodes.push(day);
  }
  const canvasContent = JSON.stringify(canvasData, null, 2);
  try {
    const existingFile = app.vault.getAbstractFileByPath(newCanvasFilePath);
    if (existingFile && existingFile instanceof import_obsidian.TFile) {
      await app.vault.modify(existingFile, canvasContent);
      new import_obsidian.Notice(`\u2705 Canvas "${canvasFileName}" atualizado na pasta da nota!`);
    } else {
      await app.vault.create(newCanvasFilePath, canvasContent);
      new import_obsidian.Notice(`\u2705 Canvas "${canvasFileName}" criado na pasta da nota!`);
      if (activeFile) {
        const linkInterno = `

![[${canvasFileName}]]
`;
        try {
          await app.vault.append(activeFile, linkInterno);
          new import_obsidian.Notice("\u2705 Link para o Canvas inserido na nota!");
        } catch (erro) {
          console.error("Erro ao inserir link do canvas na nota:", erro);
          new import_obsidian.Notice("\u274C Erro ao inserir link do canvas na nota.");
        }
      }
    }
  } catch (error) {
    console.error("Erro ao salvar/atualizar arquivo canvas:", error);
    new import_obsidian.Notice(`\u274C Erro ao salvar/atualizar o arquivo canvas: ${error.message}`);
  }
}

// src/controllers/insertTableInNoteController.ts
var import_obsidian2 = require("obsidian");
async function insertTableInNote(tasks, app) {
  const activeFile = app.workspace.getActiveFile();
  if (!activeFile) {
    new import_obsidian2.Notice("\u26A0\uFE0F Nenhuma nota aberta.");
    return;
  }
  if (!tasks || tasks.length === 0) {
    new import_obsidian2.Notice("\u26A0\uFE0F Nenhuma tarefa para inserir.");
    return;
  }
  const headers = ["ID", "Nome", "Dura\xE7\xE3o", "Depend\xEAncia", "Respons\xE1vel", "In\xEDcio", "Fim", "Slack", "Cr\xEDtica"];
  let markdown = "| " + headers.join(" | ") + " |\n";
  markdown += "|---|---|---|---|---|---|---|---|---|\n";
  tasks.forEach((task) => {
    var _a, _b;
    const dependencyNames = task.dependency.map((d) => `[[${d.name}]]`).join(", ") || "-";
    const responsibleName = task.responsible ? `[[${task.responsible}]]` : "-";
    markdown += `| ${task.id} | [[${task.name}]] | ${task.duration} | ${dependencyNames} | ${responsibleName} | ${task.earlyStart + 1} | ${(_a = task.earlyFinish) != null ? _a : "-"} | ${(_b = task.slack) != null ? _b : "-"} | ${task.isCritical ? "Sim" : "N\xE3o"} |
`;
  });
  try {
    await app.vault.append(activeFile, `
${markdown}
`);
    new import_obsidian2.Notice("\u2705 Tabela em Markdown inserida com sucesso!");
  } catch (err) {
    console.error("Erro ao inserir na nota:", err);
    new import_obsidian2.Notice("\u274C Erro ao inserir tabela na nota.");
  }
}

// src/repository/repository.ts
var import_obsidian3 = require("obsidian");
var TaskRepository = class {
  static async readTasksFromJson(app, filename) {
    try {
      const activeFile = app.workspace.getActiveFile();
      const folderPath = (activeFile == null ? void 0 : activeFile.parent) ? activeFile.parent.path : "";
      const filePath = (0, import_obsidian3.normalizePath)(`${folderPath}/${filename}`);
      if (!await app.vault.adapter.exists(filePath)) {
        new import_obsidian3.Notice(`Arquivo ${filename} n\xE3o encontrado na pasta da nota ativa.`);
        console.log(`Arquivo n\xE3o encontrado: ${filePath}`);
        return [];
      }
      const fileContent = await app.vault.adapter.read(filePath);
      const rawTasks = JSON.parse(fileContent);
      new import_obsidian3.Notice(`Arquivo ${filename} carregado com ${rawTasks.length} tarefas.`);
      const tasks = rawTasks.map((rawTask) => {
        const task = new Task(
          rawTask.id,
          rawTask.name,
          rawTask.responsible,
          rawTask.duration
        );
        task.earlyStart = rawTask.earlyStart;
        task.earlyFinish = rawTask.earlyFinish;
        task.lateFinish = rawTask.lateFinish;
        task.lateStart = rawTask.lateStart;
        task.slack = rawTask.slack;
        task.isCritical = rawTask.isCritical;
        return task;
      });
      const taskMap = new Map(tasks.map((task) => [task.id, task]));
      tasks.forEach((task) => {
        const rawTask = rawTasks.find((rt) => rt.id === task.id);
        if ((rawTask == null ? void 0 : rawTask.dependency) && typeof rawTask.dependency === "object" && rawTask.dependency.id !== void 0) {
          task.dependency = taskMap.get(rawTask.dependency.id) || null;
        } else if (typeof (rawTask == null ? void 0 : rawTask.dependency) === "number") {
          task.dependency = taskMap.get(rawTask.dependency) || null;
        } else {
          task.dependency = null;
        }
      });
      return tasks;
    } catch (error) {
      new import_obsidian3.Notice(`Erro ao ler ou analisar o arquivo ${filename}: ${error.message}`);
      console.error(`Erro ao ler ou analisar o arquivo JSON (${filename}):`, error);
      return [];
    }
  }
  static async saveTasksToJson(app, filename, tasks) {
    try {
      const activeFile = app.workspace.getActiveFile();
      const folderPath = (activeFile == null ? void 0 : activeFile.parent) ? activeFile.parent.path : "";
      const filePath = (0, import_obsidian3.normalizePath)(`${folderPath}/${filename}`);
      const rawTasksToSave = tasks.map((task) => ({
        id: task.id,
        name: task.name,
        responsible: task.responsible,
        duration: task.duration,
        dependency: task.dependency ? task.dependency.id : null,
        earlyStart: task.earlyStart,
        earlyFinish: task.earlyFinish,
        lateFinish: task.lateFinish,
        lateStart: task.lateStart,
        slack: task.slack,
        isCritical: task.isCritical
      }));
      const jsonString = JSON.stringify(rawTasksToSave, null, 2);
      await app.vault.adapter.write(filePath, jsonString);
      new import_obsidian3.Notice(`Tarefas salvas em ${filename} (${tasks.length} tarefas).`);
    } catch (error) {
      new import_obsidian3.Notice(`Erro ao salvar tarefas em ${filename}: ${error.message}`);
      console.error(`Erro ao salvar tarefas no arquivo JSON (${filename}):`, error);
    }
  }
};

// src/views/CPMView.ts
var CPM_VIEW_TYPE = "cpm-view";
var CPMView = class extends import_obsidian4.ItemView {
  // EN: Returns the view type.
  // PT-BR: Retorna o tipo da visualização.
  getViewType() {
    return CPM_VIEW_TYPE;
  }
  getDisplayText() {
    return "CPM - Caminho Cr\xEDtico";
  }
  // EN: Returns the icon for the view tab.
  // PT-BR: Retorna o ícone para a aba da visualização.
  getIcon() {
    return "chart-gantt";
  }
  async onOpen() {
    this.container = this.containerEl.children[1];
    this.container.empty();
    await this.renderCPMInterface();
  }
  // EN: Renders the main interface for the CPM tool.
  // PT-BR: Renderiza a interface principal para a ferramenta CPM.
  renderCPMInterface() {
    this.container.empty();
    const style = document.createElement("style");
    style.textContent = this.getStyleCSS();
    this.container.appendChild(style);
    this.container.createEl("h4", { text: "M\xE9todo do Caminho Cr\xEDtico" });
    const form = this.container.createEl("form", { cls: "task-form" });
    form.innerHTML = `
      <input type="number" id="id" placeholder="ID" required />
      <input type="text" id="name" placeholder="Nome" required />
      <input type="number" id="duration" placeholder="Dura\xE7\xE3o" required />
      <input type="text" id="dependency" placeholder="Depend\xEAncias (IDs, ex: 1,2)" />
      <input type="text" id="responsible" placeholder="Respons\xE1vel" />
      <button type="submit">Adicionar Tarefa</button>
    `;
    const table = this.container.createEl("table");
    table.id = "tasks-table";
    table.innerHTML = `
      <thead>
        <tr>
          <th>ID</th><th>Nome</th><th>Dura\xE7\xE3o</th><th>Depend\xEAncia</th><th>Respons\xE1vel</th>
          <th>In\xEDcio</th><th>Fim</th><th>Slack</th><th>Cr\xEDtica</th><th>A\xE7\xF5es</th>
        </tr>
      </thead>
      <tbody></tbody>
    `;
    const actionsDiv = this.container.createDiv({ cls: "action-buttons" });
    actionsDiv.createEl("button", { text: "Inserir Tabela na nota", attr: { id: "insert-md-table" } });
    actionsDiv.createEl("button", { text: "Salvar para Canvas", attr: { id: "save-canvas-btn" } });
    const ganttWrapper = this.container.createEl("div");
    ganttWrapper.id = "gantt-wrapper";
    ganttWrapper.style.marginTop = "20px";
    ganttWrapper.style.overflowX = "auto";
    ganttWrapper.style.height = "300px";
    ganttWrapper.style.border = "1px solid #ddd";
    const ganttChart = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    ganttChart.setAttribute("id", "gantt-chart");
    ganttChart.setAttribute("width", "100%");
    ganttChart.setAttribute("height", "auto");
    ganttWrapper.appendChild(ganttChart);
    this.setupEventListeners(ganttChart, table.querySelector("tbody"));
  }
  // EN: Sets up event listeners for form submission, button clicks, and table interactions.
  // PT-BR: Configura os ouvintes de eventos para submissão de formulário, cliques em botões e interações na tabela.
  async setupEventListeners(ganttChart, tbody) {
    const form = this.container.querySelector(".task-form");
    const insertMdBtn = this.container.querySelector("#insert-md-table");
    const saveCanvasBtn = this.container.querySelector("#save-canvas-btn");
    const dbFileName = "db.json";
    const idInput = form.querySelector("#id");
    const nameInput = form.querySelector("#name");
    const durationInput = form.querySelector("#duration");
    const dependencyInput = form.querySelector("#dependency");
    const responsibleInput = form.querySelector("#responsible");
    const submitButton = form.querySelector("button[type='submit']");
    const updateTasks = async () => {
      if (tasks.length === 0) {
        tbody.innerHTML = "<tr><td colspan='9'>Nenhuma tarefa adicionada ou carregada.</td></tr>";
        drawGantt([], 0, ganttChart);
        try {
          await TaskRepository.saveTasksToJson(this.app, dbFileName, tasks);
        } catch (error) {
          console.error("Erro ao salvar lista de tarefas vazia:", error);
        }
        try {
          await saveToCanvas(tasks, this.app);
        } catch (error) {
          console.error("Erro ao salvar canvas com lista vazia:", error);
        }
        return;
      }
      const { tasks: calculatedTasks, maxEndDate } = calculateCPM(tasks);
      tbody.innerHTML = "";
      calculatedTasks.forEach((task) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${task.id}</td>
          <td>${task.name}</td>
          <td>${task.duration}</td>
          <td>${task.dependency.map((dep) => dep.name).join(", ") || "-"}</td>
          <td>${task.responsible}</td>
          <td>${task.earlyStart + 1}</td>
          <td>${task.earlyFinish}</td>
          <td>${task.slack}</td>
          <td>${task.isCritical ? "Sim" : "N\xE3o"}</td>
          <td>
            <button class="edit-task-btn" data-task-id="${task.id}" title="Editar Tarefa">\u270F\uFE0F</button>
            <button class="delete-task-btn" data-task-id="${task.id}" title="Apagar Tarefa">\u{1F5D1}\uFE0F</button>
          </td>
        `;
        tbody.appendChild(tr);
      });
      drawGantt(calculatedTasks, maxEndDate, ganttChart);
      try {
        await TaskRepository.saveTasksToJson(this.app, dbFileName, tasks);
      } catch (error) {
        console.error("Erro ao salvar tarefas ap\xF3s atualiza\xE7\xE3o:", error);
        new import_obsidian4.Notice("Falha ao salvar as tarefas automaticamente.");
      }
    };
    let tasks = [];
    try {
      tasks = await TaskRepository.readTasksFromJson(this.app, dbFileName);
      updateTasks();
    } catch (error) {
      console.error("Erro ao carregar tarefas do arquivo:", error);
    }
    let editingTaskId = null;
    const startEditTask = (taskIdToEdit) => {
      const taskToEdit = tasks.find((task) => task.id === taskIdToEdit);
      if (!taskToEdit)
        return;
      editingTaskId = taskIdToEdit;
      idInput.value = taskToEdit.id.toString();
      idInput.readOnly = true;
      nameInput.value = taskToEdit.name;
      durationInput.value = taskToEdit.duration.toString();
      dependencyInput.value = taskToEdit.dependency.map((dep) => dep.id).join(",");
      responsibleInput.value = taskToEdit.responsible;
      submitButton.textContent = "Atualizar Tarefa";
      form.scrollIntoView({ behavior: "smooth" });
    };
    const deleteTask = (taskIdToDelete) => {
      if (!confirm(`Tem certeza que deseja apagar a tarefa ID ${taskIdToDelete}? As tarefas que dependem dela perder\xE3o essa depend\xEAncia.`)) {
        return;
      }
      tasks = tasks.filter((task) => task.id !== taskIdToDelete);
      tasks.forEach((task) => {
        task.dependency = task.dependency.filter((dep) => dep.id !== taskIdToDelete);
      });
      updateTasks();
      new import_obsidian4.Notice(`\u{1F5D1}\uFE0F Tarefa ID ${taskIdToDelete} apagada.`);
    };
    tbody.addEventListener("click", (event) => {
      const target = event.target;
      const button = target.closest("button");
      if (!button)
        return;
      const taskIdAttr = button.dataset.taskId;
      if (taskIdAttr) {
        const taskId = parseInt(taskIdAttr);
        if (button.classList.contains("edit-task-btn")) {
          startEditTask(taskId);
        } else if (button.classList.contains("delete-task-btn")) {
          deleteTask(taskId);
        }
      }
    });
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const currentIdStr = idInput.value;
      const name = nameInput.value.trim();
      const durationStr = durationInput.value;
      const dependencyIDInput = dependencyInput.value.trim();
      const responsible = responsibleInput.value.trim() || "";
      const duration = parseInt(durationStr);
      if (!name || isNaN(duration) || duration <= 0) {
        new import_obsidian4.Notice("\u26A0\uFE0F Dados inv\xE1lidos. Nome e Dura\xE7\xE3o (positiva) s\xE3o obrigat\xF3rios.");
        return;
      }
      const currentId = parseInt(currentIdStr);
      const dependencyIDs = dependencyIDInput ? dependencyIDInput.split(",").map((id) => parseInt(id.trim())).filter((id) => !isNaN(id)) : [];
      let dependencyTasks = [];
      if (dependencyIDs.length > 0) {
        for (const depId of dependencyIDs) {
          if (depId === currentId && editingTaskId === null) {
            new import_obsidian4.Notice(`\u26A0\uFE0F Uma tarefa n\xE3o pode depender de si mesma (ID ${currentId}).`);
            return;
          }
          if (editingTaskId !== null && depId === editingTaskId) {
            new import_obsidian4.Notice(`\u26A0\uFE0F Uma tarefa n\xE3o pode depender de si mesma (ID ${editingTaskId}).`);
            return;
          }
          const foundDep = tasks.find((t) => t.id === depId);
          if (!foundDep) {
            new import_obsidian4.Notice(`\u26A0\uFE0F Depend\xEAncia com ID ${depId} n\xE3o encontrada.`);
            return;
          }
          dependencyTasks.push(foundDep);
        }
      }
      if (editingTaskId !== null) {
        const taskToUpdate = tasks.find((task) => task.id === editingTaskId);
        if (taskToUpdate) {
          taskToUpdate.name = name;
          taskToUpdate.duration = duration;
          taskToUpdate.responsible = responsible;
          taskToUpdate.dependency = dependencyTasks;
          new import_obsidian4.Notice(`\u2705 Tarefa ID ${editingTaskId} atualizada.`);
        }
        editingTaskId = null;
        idInput.readOnly = false;
        submitButton.textContent = "Adicionar Tarefa";
      } else {
        if (isNaN(currentId) || currentId <= 0) {
          new import_obsidian4.Notice("\u26A0\uFE0F ID da tarefa inv\xE1lido. Deve ser um n\xFAmero positivo.");
          return;
        }
        if (tasks.some((t) => t.id === currentId)) {
          new import_obsidian4.Notice(`\u26A0\uFE0F J\xE1 existe uma tarefa com o ID ${currentId}.`);
          return;
        }
        tasks.push(new Task(currentId, name, responsible, duration, dependencyTasks));
        new import_obsidian4.Notice("\u2705 Tarefa adicionada.");
      }
      updateTasks();
      form.reset();
    });
    insertMdBtn == null ? void 0 : insertMdBtn.addEventListener("click", () => {
      if (tasks.length === 0) {
        new import_obsidian4.Notice("\u26A0\uFE0F Nenhuma tarefa para exportar.");
        return;
      }
      insertTableInNote(tasks, this.app);
    });
    saveCanvasBtn == null ? void 0 : saveCanvasBtn.addEventListener("click", () => {
      if (!this.app.workspace.getActiveFile()) {
        new import_obsidian4.Notice("\u26A0\uFE0F Nenhuma nota ativa para salvar o canvas.");
        return;
      }
      saveToCanvas(tasks, this.app);
    });
  }
  // EN: Returns the CSS styles for the view.
  // PT-BR: Retorna os estilos CSS para a visualização.
  getStyleCSS() {
    return `
      body { font-family: sans-serif; padding: 10px; }
      input, button { display: block; width: 100%; margin-bottom: 8px; padding: 6px; }
      table { width: 100%; border-collapse: collapse; margin-top: 15px; }
      th, td { border: 1px solid #ccc; padding: 6px; text-align: left; }
      .gantt-container { overflow-x: auto; height: 300px; border: 1px solid #ddd; }
      #gantt-chart { min-width: 1000px; height: auto; }
      .action-buttons { margin-top: 10px; }
      .action-buttons button, .task-form button { margin-right: 5px; display: inline-block; width: auto; }
      #tasks-table button {
          padding: 3px 6px;
          margin: 0 2px;
          font-size: 1em; /* Emojis s\xE3o caracteres, ent\xE3o o tamanho da fonte os afeta */
          cursor: pointer;
          border: none; /* Remove borda padr\xE3o */
          background: none; /* Remove fundo padr\xE3o */
          line-height: 1; /* Para alinhar melhor os emojis */
      }
    `;
  }
};

// main.ts
var CPMGanttPlugin = class extends import_obsidian5.Plugin {
  async onload() {
    this.registerView(CPM_VIEW_TYPE, (leaf) => new CPMView(leaf));
    this.addRibbonIcon("chart-gantt", "Abrir CPM Gantt", () => {
      this.activateView();
    });
  }
  async activateView() {
    this.app.workspace.detachLeavesOfType(CPM_VIEW_TYPE);
    await this.app.workspace.getLeaf("split").setViewState({
      type: CPM_VIEW_TYPE
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvdmlld3MvQ1BNVmlldy50cyIsICJzcmMvbW9kZWxzL3Rhc2tzLnRzIiwgInNyYy9jb250cm9sbGVycy9kcmF3R2FudHRDb250cm9sbGVyLnRzIiwgInNyYy9jb250cm9sbGVycy9jYWxjdWxhdGVDUE1jb250cm9sbGVyLnRzIiwgInNyYy9jb250cm9sbGVycy9zYXZlVG9DYW52YXNDb250cm9sbGVyLnRzIiwgInNyYy9jb250cm9sbGVycy9pbnNlcnRUYWJsZUluTm90ZUNvbnRyb2xsZXIudHMiLCAic3JjL3JlcG9zaXRvcnkvcmVwb3NpdG9yeS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDUE1WaWV3LCBDUE1fVklFV19UWVBFIH0gZnJvbSBcIi4vc3JjL3ZpZXdzL0NQTVZpZXdcIjtcbmltcG9ydCB7IFRhc2tSZXBvc2l0b3J5IH0gZnJvbSBcInNyYy9yZXBvc2l0b3J5L3JlcG9zaXRvcnlcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ1BNR2FudHRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICBhc3luYyBvbmxvYWQoKSB7XG4gICAgdGhpcy5yZWdpc3RlclZpZXcoQ1BNX1ZJRVdfVFlQRSwgKGxlYWYpID0+IG5ldyBDUE1WaWV3KGxlYWYpKTtcbiAgICB0aGlzLmFkZFJpYmJvbkljb24oXCJjaGFydC1nYW50dFwiLCBcIkFicmlyIENQTSBHYW50dFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmFjdGl2YXRlVmlldygpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVWaWV3KCkge1xuICAgIC8vIFJlbW92ZW5kbyBhIGxlaXR1cmEgZG8gSlNPTiBhcXVpLCBhIHZpZXcgZmFyXHUwMEUxIGlzc28gYW8gYWJyaXJcbiAgICAvLyBjb25zdCB0YXNrcyA9IGF3YWl0IFRhc2tSZXBvc2l0b3J5LnJlYWRUYXNrc0Zyb21Kc29uKHRoaXMuYXBwLCAnZGIuanNvbicpO1xuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoQ1BNX1ZJRVdfVFlQRSk7XG4gICAgYXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoXCJzcGxpdFwiKS5zZXRWaWV3U3RhdGUoe1xuICAgICAgdHlwZTogQ1BNX1ZJRVdfVFlQRSxcbiAgICB9KTtcbiAgfVxufSIsICJcbmltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmLCBBcHAsIE5vdGljZSwgbm9ybWFsaXplUGF0aCwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFRhc2sgfSBmcm9tIFwiLi4vbW9kZWxzL3Rhc2tzXCI7XG5pbXBvcnQge2RyYXdHYW50dH0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL2RyYXdHYW50dENvbnRyb2xsZXJcIlxuaW1wb3J0IHtjYWxjdWxhdGVDUE19IGZyb20gXCIuLi9jb250cm9sbGVycy9jYWxjdWxhdGVDUE1jb250cm9sbGVyXCJcbmltcG9ydCB7IHNhdmVUb0NhbnZhcyB9IGZyb20gXCJzcmMvY29udHJvbGxlcnMvc2F2ZVRvQ2FudmFzQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgaW5zZXJ0VGFibGVJbk5vdGUgfSBmcm9tIFwic3JjL2NvbnRyb2xsZXJzL2luc2VydFRhYmxlSW5Ob3RlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVGFza1JlcG9zaXRvcnkgfSBmcm9tIFwic3JjL3JlcG9zaXRvcnkvcmVwb3NpdG9yeVwiO1xuXG5cbi8vIEVOOiBEZWZpbmVzIHRoZSB1bmlxdWUgdHlwZSBmb3IgdGhpcyB2aWV3LlxuLy8gUFQtQlI6IERlZmluZSBvIHRpcG8gXHUwMEZBbmljbyBwYXJhIGVzdGEgdmlzdWFsaXphXHUwMEU3XHUwMEUzby5cbmV4cG9ydCBjb25zdCBDUE1fVklFV19UWVBFID0gXCJjcG0tdmlld1wiO1xuXG4vLyBFTjogQ1BNVmlldyBjbGFzcywgZXh0ZW5kaW5nIEl0ZW1WaWV3IHRvIGludGVncmF0ZSB3aXRoIE9ic2lkaWFuJ3MgVUkuXG4vLyBQVC1CUjogQ2xhc3NlIENQTVZpZXcsIGVzdGVuZGVuZG8gSXRlbVZpZXcgcGFyYSBzZSBpbnRlZ3JhciBjb20gYSBVSSBkbyBPYnNpZGlhbi5cbmV4cG9ydCBjbGFzcyBDUE1WaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuICBhcHA6IEFwcDtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICAvLyBFTjogUmV0dXJucyB0aGUgdmlldyB0eXBlLlxuICAvLyBQVC1CUjogUmV0b3JuYSBvIHRpcG8gZGEgdmlzdWFsaXphXHUwMEU3XHUwMEUzby5cbiAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gQ1BNX1ZJRVdfVFlQRTtcbiAgfVxuXG4gIGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiQ1BNIC0gQ2FtaW5obyBDclx1MDBFRHRpY29cIjtcbiAgfVxuXG4gIC8vIEVOOiBSZXR1cm5zIHRoZSBpY29uIGZvciB0aGUgdmlldyB0YWIuXG4gIC8vIFBULUJSOiBSZXRvcm5hIG8gXHUwMEVEY29uZSBwYXJhIGEgYWJhIGRhIHZpc3VhbGl6YVx1MDBFN1x1MDBFM28uXG4gIGdldEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJjaGFydC1nYW50dFwiO1xuICB9XG5cbiAgYXN5bmMgb25PcGVuKCkge1xuICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcbiAgICB0aGlzLmNvbnRhaW5lci5lbXB0eSgpO1xuICAgIGF3YWl0IHRoaXMucmVuZGVyQ1BNSW50ZXJmYWNlKCk7IFxuICB9XG5cbiAgLy8gRU46IFJlbmRlcnMgdGhlIG1haW4gaW50ZXJmYWNlIGZvciB0aGUgQ1BNIHRvb2wuXG4gIC8vIFBULUJSOiBSZW5kZXJpemEgYSBpbnRlcmZhY2UgcHJpbmNpcGFsIHBhcmEgYSBmZXJyYW1lbnRhIENQTS5cbiAgcmVuZGVyQ1BNSW50ZXJmYWNlKCkge1xuICAgIHRoaXMuY29udGFpbmVyLmVtcHR5KCk7XG5cbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRoaXMuZ2V0U3R5bGVDU1MoKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgdGhpcy5jb250YWluZXIuY3JlYXRlRWwoXCJoNFwiLCB7IHRleHQ6IFwiTVx1MDBFOXRvZG8gZG8gQ2FtaW5obyBDclx1MDBFRHRpY29cIiB9KTtcblxuICAgIGNvbnN0IGZvcm0gPSB0aGlzLmNvbnRhaW5lci5jcmVhdGVFbChcImZvcm1cIiwgeyBjbHM6IFwidGFzay1mb3JtXCIgfSk7XG4gICAgZm9ybS5pbm5lckhUTUwgPSBgXG4gICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGlkPVwiaWRcIiBwbGFjZWhvbGRlcj1cIklEXCIgcmVxdWlyZWQgLz5cbiAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwibmFtZVwiIHBsYWNlaG9sZGVyPVwiTm9tZVwiIHJlcXVpcmVkIC8+XG4gICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGlkPVwiZHVyYXRpb25cIiBwbGFjZWhvbGRlcj1cIkR1cmFcdTAwRTdcdTAwRTNvXCIgcmVxdWlyZWQgLz5cbiAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiZGVwZW5kZW5jeVwiIHBsYWNlaG9sZGVyPVwiRGVwZW5kXHUwMEVBbmNpYXMgKElEcywgZXg6IDEsMilcIiAvPlxuICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJyZXNwb25zaWJsZVwiIHBsYWNlaG9sZGVyPVwiUmVzcG9uc1x1MDBFMXZlbFwiIC8+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5BZGljaW9uYXIgVGFyZWZhPC9idXR0b24+XG4gICAgYDtcblxuICAgIGNvbnN0IHRhYmxlID0gdGhpcy5jb250YWluZXIuY3JlYXRlRWwoXCJ0YWJsZVwiKTtcbiAgICB0YWJsZS5pZCA9IFwidGFza3MtdGFibGVcIjtcbiAgICB0YWJsZS5pbm5lckhUTUwgPSBgXG4gICAgICA8dGhlYWQ+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGg+SUQ8L3RoPjx0aD5Ob21lPC90aD48dGg+RHVyYVx1MDBFN1x1MDBFM288L3RoPjx0aD5EZXBlbmRcdTAwRUFuY2lhPC90aD48dGg+UmVzcG9uc1x1MDBFMXZlbDwvdGg+XG4gICAgICAgICAgPHRoPkluXHUwMEVEY2lvPC90aD48dGg+RmltPC90aD48dGg+U2xhY2s8L3RoPjx0aD5Dclx1MDBFRHRpY2E8L3RoPjx0aD5BXHUwMEU3XHUwMEY1ZXM8L3RoPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90aGVhZD5cbiAgICAgIDx0Ym9keT48L3Rib2R5PlxuICAgIGA7XG5cbiAgICBjb25zdCBhY3Rpb25zRGl2ID0gdGhpcy5jb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiBcImFjdGlvbi1idXR0b25zXCIgfSk7XG4gICAgYWN0aW9uc0Rpdi5jcmVhdGVFbChcImJ1dHRvblwiLCB7IHRleHQ6IFwiSW5zZXJpciBUYWJlbGEgbmEgbm90YVwiLCBhdHRyOiB7IGlkOiBcImluc2VydC1tZC10YWJsZVwiIH0gfSk7XG4gICAgYWN0aW9uc0Rpdi5jcmVhdGVFbChcImJ1dHRvblwiLCB7IHRleHQ6IFwiU2FsdmFyIHBhcmEgQ2FudmFzXCIsIGF0dHI6IHsgaWQ6IFwic2F2ZS1jYW52YXMtYnRuXCIgfSB9KTtcblxuICAgIGNvbnN0IGdhbnR0V3JhcHBlciA9IHRoaXMuY29udGFpbmVyLmNyZWF0ZUVsKFwiZGl2XCIpO1xuICAgIGdhbnR0V3JhcHBlci5pZCA9IFwiZ2FudHQtd3JhcHBlclwiO1xuICAgIGdhbnR0V3JhcHBlci5zdHlsZS5tYXJnaW5Ub3AgPSBcIjIwcHhcIjtcbiAgICBnYW50dFdyYXBwZXIuc3R5bGUub3ZlcmZsb3dYID0gXCJhdXRvXCI7XG4gICAgZ2FudHRXcmFwcGVyLnN0eWxlLmhlaWdodCA9IFwiMzAwcHhcIjtcbiAgICBnYW50dFdyYXBwZXIuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgI2RkZFwiO1xuXG4gICAgY29uc3QgZ2FudHRDaGFydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpIGFzIFNWR1NWR0VsZW1lbnQ7XG4gICAgZ2FudHRDaGFydC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImdhbnR0LWNoYXJ0XCIpO1xuICAgIGdhbnR0Q2hhcnQuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgXCIxMDAlXCIpO1xuICAgIGdhbnR0Q2hhcnQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcbiAgICBnYW50dFdyYXBwZXIuYXBwZW5kQ2hpbGQoZ2FudHRDaGFydCk7XG5cbiAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoZ2FudHRDaGFydCwgdGFibGUucXVlcnlTZWxlY3RvcihcInRib2R5XCIpISk7XG4gIH1cblxuICAvLyBFTjogU2V0cyB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGZvcm0gc3VibWlzc2lvbiwgYnV0dG9uIGNsaWNrcywgYW5kIHRhYmxlIGludGVyYWN0aW9ucy5cbiAgLy8gUFQtQlI6IENvbmZpZ3VyYSBvcyBvdXZpbnRlcyBkZSBldmVudG9zIHBhcmEgc3VibWlzc1x1MDBFM28gZGUgZm9ybXVsXHUwMEUxcmlvLCBjbGlxdWVzIGVtIGJvdFx1MDBGNWVzIGUgaW50ZXJhXHUwMEU3XHUwMEY1ZXMgbmEgdGFiZWxhLlxuICBhc3luYyBzZXR1cEV2ZW50TGlzdGVuZXJzKGdhbnR0Q2hhcnQ6IFNWR1NWR0VsZW1lbnQsIHRib2R5OiBIVE1MVGFibGVTZWN0aW9uRWxlbWVudCkge1xuICAgIGNvbnN0IGZvcm0gPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnRhc2stZm9ybVwiKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgY29uc3QgaW5zZXJ0TWRCdG4gPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiI2luc2VydC1tZC10YWJsZVwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgY29uc3Qgc2F2ZUNhbnZhc0J0biA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIjc2F2ZS1jYW52YXMtYnRuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICBjb25zdCBkYkZpbGVOYW1lID0gJ2RiLmpzb24nOyBcblxuICAgIGNvbnN0IGlkSW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjaWRcIikgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBuYW1lSW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGR1cmF0aW9uSW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjZHVyYXRpb25cIikgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBkZXBlbmRlbmN5SW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjZGVwZW5kZW5jeVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IHJlc3BvbnNpYmxlSW5wdXQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjcmVzcG9uc2libGVcIikgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25bdHlwZT0nc3VibWl0J11cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbiAgIFxuICAgIC8vIEVOOiBBc3luY2hyb25vdXMgZnVuY3Rpb24gdG8gdXBkYXRlIHRoZSB0YXNrcyB0YWJsZSwgR2FudHQgY2hhcnQsIGFuZCBzYXZlIGRhdGEuXG4gICAgLy8gUFQtQlI6IEZ1blx1MDBFN1x1MDBFM28gYXNzXHUwMEVEbmNyb25hIHBhcmEgYXR1YWxpemFyIGEgdGFiZWxhIGRlIHRhcmVmYXMsIG8gZ3JcdTAwRTFmaWNvIGRlIEdhbnR0IGUgc2FsdmFyIG9zIGRhZG9zLlxuICAgIGNvbnN0IHVwZGF0ZVRhc2tzID0gYXN5bmMgKCkgPT4geyBcbiAgICAgIGlmICh0YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gXCI8dHI+PHRkIGNvbHNwYW49JzknPk5lbmh1bWEgdGFyZWZhIGFkaWNpb25hZGEgb3UgY2FycmVnYWRhLjwvdGQ+PC90cj5cIjtcbiAgICAgICAgZHJhd0dhbnR0KFtdLCAwLCBnYW50dENoYXJ0KTsgXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBUYXNrUmVwb3NpdG9yeS5zYXZlVGFza3NUb0pzb24odGhpcy5hcHAsIGRiRmlsZU5hbWUsIHRhc2tzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBzYWx2YXIgbGlzdGEgZGUgdGFyZWZhcyB2YXppYTpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgIGF3YWl0IHNhdmVUb0NhbnZhcyh0YXNrcywgdGhpcy5hcHApOyBcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gc2FsdmFyIGNhbnZhcyBjb20gbGlzdGEgdmF6aWE6XCIsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBFTjogQ2FsY3VsYXRlIENyaXRpY2FsIFBhdGggTWV0aG9kLlxuICAgICAgLy8gUFQtQlI6IENhbGN1bGEgbyBNXHUwMEU5dG9kbyBkbyBDYW1pbmhvIENyXHUwMEVEdGljby5cbiAgICAgIGNvbnN0IHsgdGFza3M6IGNhbGN1bGF0ZWRUYXNrcywgbWF4RW5kRGF0ZSB9ID0gY2FsY3VsYXRlQ1BNKHRhc2tzKTtcbiAgICAgIHRib2R5LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgIC8vIEVOOiBQb3B1bGF0ZSB0aGUgdGFza3MgdGFibGUgd2l0aCBjYWxjdWxhdGVkIGRhdGEuXG4gICAgICAvLyBQVC1CUjogUHJlZW5jaGUgYSB0YWJlbGEgZGUgdGFyZWZhcyBjb20gb3MgZGFkb3MgY2FsY3VsYWRvcy5cbiAgICAgIGNhbGN1bGF0ZWRUYXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgdHIuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDx0ZD4ke3Rhc2suaWR9PC90ZD5cbiAgICAgICAgICA8dGQ+JHt0YXNrLm5hbWV9PC90ZD5cbiAgICAgICAgICA8dGQ+JHt0YXNrLmR1cmF0aW9ufTwvdGQ+XG4gICAgICAgICAgPHRkPiR7dGFzay5kZXBlbmRlbmN5Lm1hcChkZXAgPT4gZGVwLm5hbWUpLmpvaW4oJywgJykgfHwgXCItXCJ9PC90ZD5cbiAgICAgICAgICA8dGQ+JHt0YXNrLnJlc3BvbnNpYmxlfTwvdGQ+XG4gICAgICAgICAgPHRkPiR7dGFzay5lYXJseVN0YXJ0ISsxfTwvdGQ+XG4gICAgICAgICAgPHRkPiR7dGFzay5lYXJseUZpbmlzaH08L3RkPlxuICAgICAgICAgIDx0ZD4ke3Rhc2suc2xhY2t9PC90ZD5cbiAgICAgICAgICA8dGQ+JHt0YXNrLmlzQ3JpdGljYWwgPyBcIlNpbVwiIDogXCJOXHUwMEUzb1wifTwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay1idG5cIiBkYXRhLXRhc2staWQ9XCIke3Rhc2suaWR9XCIgdGl0bGU9XCJFZGl0YXIgVGFyZWZhXCI+XHUyNzBGXHVGRTBGPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGVsZXRlLXRhc2stYnRuXCIgZGF0YS10YXNrLWlkPVwiJHt0YXNrLmlkfVwiIHRpdGxlPVwiQXBhZ2FyIFRhcmVmYVwiPlx1RDgzRFx1REREMVx1RkUwRjwvYnV0dG9uPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIGA7XG4gICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBFTjogRHJhdyB0aGUgR2FudHQgY2hhcnQgd2l0aCB0aGUgY2FsY3VsYXRlZCB0YXNrcy5cbiAgICAgIC8vIFBULUJSOiBEZXNlbmhhIG8gZ3JcdTAwRTFmaWNvIGRlIEdhbnR0IGNvbSBhcyB0YXJlZmFzIGNhbGN1bGFkYXMuXG4gICAgICBkcmF3R2FudHQoY2FsY3VsYXRlZFRhc2tzLCBtYXhFbmREYXRlLCBnYW50dENoYXJ0KTtcblxuICAgICAgLy8gRU46IFNhdmUgdGhlIHVwZGF0ZWQgdGFza3MgbGlzdCB0byBKU09OLlxuICAgICAgLy8gUFQtQlI6IFNhbHZhIGEgbGlzdGEgZGUgdGFyZWZhcyBhdHVhbGl6YWRhIHBhcmEgSlNPTi5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IFRhc2tSZXBvc2l0b3J5LnNhdmVUYXNrc1RvSnNvbih0aGlzLmFwcCwgZGJGaWxlTmFtZSwgdGFza3MpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gc2FsdmFyIHRhcmVmYXMgYXBcdTAwRjNzIGF0dWFsaXphXHUwMEU3XHUwMEUzbzpcIiwgZXJyb3IpO1xuICAgICAgICBuZXcgTm90aWNlKFwiRmFsaGEgYW8gc2FsdmFyIGFzIHRhcmVmYXMgYXV0b21hdGljYW1lbnRlLlwiKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRU46IEFycmF5IHRvIGhvbGQgdGhlIHRhc2tzLlxuICAgIC8vIFBULUJSOiBBcnJheSBwYXJhIGFybWF6ZW5hciBhcyB0YXJlZmFzLlxuICAgIGxldCB0YXNrczogVGFza1tdID0gW107XG4gICAgdHJ5IHtcbiAgICAgIC8vIEVOOiBMb2FkIHRhc2tzIGZyb20gSlNPTiBmaWxlIG9uIGluaXRpYWxpemF0aW9uLlxuICAgICAgLy8gUFQtQlI6IENhcnJlZ2EgYXMgdGFyZWZhcyBkbyBhcnF1aXZvIEpTT04gbmEgaW5pY2lhbGl6YVx1MDBFN1x1MDBFM28uXG4gICAgICB0YXNrcyA9IGF3YWl0IFRhc2tSZXBvc2l0b3J5LnJlYWRUYXNrc0Zyb21Kc29uKHRoaXMuYXBwLCBkYkZpbGVOYW1lKTtcbiAgICAgIHVwZGF0ZVRhc2tzKCk7IFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gY2FycmVnYXIgdGFyZWZhcyBkbyBhcnF1aXZvOlwiLCBlcnJvcik7XG4gIH1cblxuICAgIC8vIEVOOiBWYXJpYWJsZSB0byBzdG9yZSB0aGUgSUQgb2YgdGhlIHRhc2sgYmVpbmcgZWRpdGVkLlxuICAgIC8vIFBULUJSOiBWYXJpXHUwMEUxdmVsIHBhcmEgYXJtYXplbmFyIG8gSUQgZGEgdGFyZWZhIHF1ZSBlc3RcdTAwRTEgc2VuZG8gZWRpdGFkYS5cbiAgICBsZXQgZWRpdGluZ1Rhc2tJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdCBzdGFydEVkaXRUYXNrID0gKHRhc2tJZFRvRWRpdDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tUb0VkaXQgPSB0YXNrcy5maW5kKHRhc2sgPT4gdGFzay5pZCA9PT0gdGFza0lkVG9FZGl0KTtcbiAgICAgICAgaWYgKCF0YXNrVG9FZGl0KSByZXR1cm47XG5cbiAgICAgICAgZWRpdGluZ1Rhc2tJZCA9IHRhc2tJZFRvRWRpdDtcblxuICAgICAgICBpZElucHV0LnZhbHVlID0gdGFza1RvRWRpdC5pZC50b1N0cmluZygpO1xuICAgICAgICBpZElucHV0LnJlYWRPbmx5ID0gdHJ1ZTsgXG4gICAgICAgIG5hbWVJbnB1dC52YWx1ZSA9IHRhc2tUb0VkaXQubmFtZTtcbiAgICAgICAgZHVyYXRpb25JbnB1dC52YWx1ZSA9IHRhc2tUb0VkaXQuZHVyYXRpb24udG9TdHJpbmcoKTtcbiAgICAgICAgZGVwZW5kZW5jeUlucHV0LnZhbHVlID0gdGFza1RvRWRpdC5kZXBlbmRlbmN5Lm1hcChkZXAgPT4gZGVwLmlkKS5qb2luKCcsJyk7XG4gICAgICAgIHJlc3BvbnNpYmxlSW5wdXQudmFsdWUgPSB0YXNrVG9FZGl0LnJlc3BvbnNpYmxlO1xuICAgICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkF0dWFsaXphciBUYXJlZmFcIjtcbiAgICAgICAgZm9ybS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xuICAgIH07XG5cbiAgICAvLyBFTjogRnVuY3Rpb24gdG8gZGVsZXRlIGEgdGFzay5cbiAgICAvLyBQVC1CUjogRnVuXHUwMEU3XHUwMEUzbyBwYXJhIGFwYWdhciB1bWEgdGFyZWZhLlxuICAgIGNvbnN0IGRlbGV0ZVRhc2sgPSAodGFza0lkVG9EZWxldGU6IG51bWJlcikgPT4ge1xuICAgICAgICBpZiAoIWNvbmZpcm0oYFRlbSBjZXJ0ZXphIHF1ZSBkZXNlamEgYXBhZ2FyIGEgdGFyZWZhIElEICR7dGFza0lkVG9EZWxldGV9PyBBcyB0YXJlZmFzIHF1ZSBkZXBlbmRlbSBkZWxhIHBlcmRlclx1MDBFM28gZXNzYSBkZXBlbmRcdTAwRUFuY2lhLmApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0YXNrcyA9IHRhc2tzLmZpbHRlcih0YXNrID0+IHRhc2suaWQgIT09IHRhc2tJZFRvRGVsZXRlKTtcblxuICAgICAgICAvLyBFTjogUmVtb3ZlIHRoZSBkZWxldGVkIHRhc2sgZnJvbSBvdGhlciB0YXNrcycgZGVwZW5kZW5jeSBsaXN0cy5cbiAgICAgICAgLy8gUFQtQlI6IFJlbW92ZSBhIHRhcmVmYSBhcGFnYWRhIGRhcyBsaXN0YXMgZGUgZGVwZW5kXHUwMEVBbmNpYSBkZSBvdXRyYXMgdGFyZWZhcy5cbiAgICAgICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgICAgIHRhc2suZGVwZW5kZW5jeSA9IHRhc2suZGVwZW5kZW5jeS5maWx0ZXIoZGVwID0+IGRlcC5pZCAhPT0gdGFza0lkVG9EZWxldGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICB1cGRhdGVUYXNrcygpO1xuICAgICAgICBuZXcgTm90aWNlKGBcdUQ4M0RcdURERDFcdUZFMEYgVGFyZWZhIElEICR7dGFza0lkVG9EZWxldGV9IGFwYWdhZGEuYCk7XG4gICAgfTtcblxuICAgIC8vIEVOOiBFdmVudCBsaXN0ZW5lciBmb3IgY2xpY2tzIG9uIHRoZSB0YXNrcyB0YWJsZSAoZWRpdCBhbmQgZGVsZXRlIGJ1dHRvbnMpLlxuICAgIC8vIFBULUJSOiBPdXZpbnRlIGRlIGV2ZW50b3MgcGFyYSBjbGlxdWVzIG5hIHRhYmVsYSBkZSB0YXJlZmFzIChib3RcdTAwRjVlcyBkZSBlZGl0YXIgZSBhcGFnYXIpLlxuICAgIHRib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgICAgICBpZiAoIWJ1dHRvbikgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHRhc2tJZEF0dHIgPSBidXR0b24uZGF0YXNldC50YXNrSWQ7XG5cbiAgICAgICAgaWYgKHRhc2tJZEF0dHIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJZCA9IHBhcnNlSW50KHRhc2tJZEF0dHIpO1xuICAgICAgICAgICAgaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2VkaXQtdGFzay1idG4nKSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0RWRpdFRhc2sodGFza0lkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnZGVsZXRlLXRhc2stYnRuJykpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVUYXNrKHRhc2tJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEVOOiBFdmVudCBsaXN0ZW5lciBmb3IgZm9ybSBzdWJtaXNzaW9uIChhZGQgb3IgdXBkYXRlIHRhc2spLlxuICAgIC8vIFBULUJSOiBPdXZpbnRlIGRlIGV2ZW50b3MgcGFyYSBzdWJtaXNzXHUwMEUzbyBkbyBmb3JtdWxcdTAwRTFyaW8gKGFkaWNpb25hciBvdSBhdHVhbGl6YXIgdGFyZWZhKS5cbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGU6IEV2ZW50KSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGNvbnN0IGN1cnJlbnRJZFN0ciA9IGlkSW5wdXQudmFsdWU7XG4gICAgICBjb25zdCBuYW1lID0gbmFtZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IGR1cmF0aW9uU3RyID0gZHVyYXRpb25JbnB1dC52YWx1ZTtcbiAgICAgIGNvbnN0IGRlcGVuZGVuY3lJRElucHV0ID0gZGVwZW5kZW5jeUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNpYmxlID0gcmVzcG9uc2libGVJbnB1dC52YWx1ZS50cmltKCkgfHwgXCJcIjtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gcGFyc2VJbnQoZHVyYXRpb25TdHIpO1xuXG4gICAgICAvLyBFTjogVmFsaWRhdGUgZm9ybSBpbnB1dHMuXG4gICAgICAvLyBQVC1CUjogVmFsaWRhIGFzIGVudHJhZGFzIGRvIGZvcm11bFx1MDBFMXJpby5cbiAgICAgIGlmICghbmFtZSB8fCBpc05hTihkdXJhdGlvbikgfHwgZHVyYXRpb24gPD0gMCkge1xuICAgICAgICBuZXcgTm90aWNlKFwiXHUyNkEwXHVGRTBGIERhZG9zIGludlx1MDBFMWxpZG9zLiBOb21lIGUgRHVyYVx1MDBFN1x1MDBFM28gKHBvc2l0aXZhKSBzXHUwMEUzbyBvYnJpZ2F0XHUwMEYzcmlvcy5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY3VycmVudElkID0gcGFyc2VJbnQoY3VycmVudElkU3RyKTtcbiAgICAgIFxuICAgICAgLy8gRU46IFBhcnNlIGRlcGVuZGVuY3kgSURzIGFuZCBmaW5kIGNvcnJlc3BvbmRpbmcgdGFza3MuXG4gICAgICAvLyBQVC1CUjogQW5hbGlzYSBvcyBJRHMgZGUgZGVwZW5kXHUwMEVBbmNpYSBlIGVuY29udHJhIGFzIHRhcmVmYXMgY29ycmVzcG9uZGVudGVzLlxuICAgICAgY29uc3QgZGVwZW5kZW5jeUlEczogbnVtYmVyW10gPSBkZXBlbmRlbmN5SURJbnB1dFxuICAgICAgICA/IGRlcGVuZGVuY3lJRElucHV0LnNwbGl0KCcsJykubWFwKGlkID0+IHBhcnNlSW50KGlkLnRyaW0oKSkpLmZpbHRlcihpZCA9PiAhaXNOYU4oaWQpKVxuICAgICAgICA6IFtdO1xuXG4gICAgICBsZXQgZGVwZW5kZW5jeVRhc2tzOiBUYXNrW10gPSBbXTtcbiAgICAgIGlmIChkZXBlbmRlbmN5SURzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGRlcElkIG9mIGRlcGVuZGVuY3lJRHMpIHtcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHNlbGYtZGVwZW5kZW5jeVxuICAgICAgICAgICAgICBpZiAoZGVwSWQgPT09IGN1cnJlbnRJZCAmJiBlZGl0aW5nVGFza0lkID09PSBudWxsKSB7IC8vIEFvIGFkaWNpb25hclxuICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFx1MjZBMFx1RkUwRiBVbWEgdGFyZWZhIG5cdTAwRTNvIHBvZGUgZGVwZW5kZXIgZGUgc2kgbWVzbWEgKElEICR7Y3VycmVudElkfSkuYCk7XG4gICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChlZGl0aW5nVGFza0lkICE9PSBudWxsICYmIGRlcElkID09PSBlZGl0aW5nVGFza0lkKSB7IC8vIEFvIGF0dWFsaXphclxuICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgXHUyNkEwXHVGRTBGIFVtYSB0YXJlZmEgblx1MDBFM28gcG9kZSBkZXBlbmRlciBkZSBzaSBtZXNtYSAoSUQgJHtlZGl0aW5nVGFza0lkfSkuYCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zdCBmb3VuZERlcCA9IHRhc2tzLmZpbmQodCA9PiB0LmlkID09PSBkZXBJZCk7XG4gICAgICAgICAgICAgIGlmICghZm91bmREZXApIHtcbiAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFx1MjZBMFx1RkUwRiBEZXBlbmRcdTAwRUFuY2lhIGNvbSBJRCAke2RlcElkfSBuXHUwMEUzbyBlbmNvbnRyYWRhLmApO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuOyBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkZXBlbmRlbmN5VGFza3MucHVzaChmb3VuZERlcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFRPRE86IEFkaWNpb25hciBkZXRlY1x1MDBFN1x1MDBFM28gZGUgY2ljbG8gZGUgZGVwZW5kXHUwMEVBbmNpYSBhcXVpLCBzZSBuZWNlc3NcdTAwRTFyaW8uXG4gICAgICB9XG4gICAgICAvLyBFTjogSWYgZWRpdGluZ1Rhc2tJZCBpcyBub3QgbnVsbCwgdXBkYXRlIHRoZSBleGlzdGluZyB0YXNrLlxuICAgICAgLy8gUFQtQlI6IFNlIGVkaXRpbmdUYXNrSWQgblx1MDBFM28gZm9yIG51bG8sIGF0dWFsaXphIGEgdGFyZWZhIGV4aXN0ZW50ZS5cbiAgICAgIGlmIChlZGl0aW5nVGFza0lkICE9PSBudWxsKSB7IFxuICAgICAgICAgIGNvbnN0IHRhc2tUb1VwZGF0ZSA9IHRhc2tzLmZpbmQodGFzayA9PiB0YXNrLmlkID09PSBlZGl0aW5nVGFza0lkKTtcbiAgICAgICAgICBpZiAodGFza1RvVXBkYXRlKSB7XG4gICAgICAgICAgICAgIHRhc2tUb1VwZGF0ZS5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgdGFza1RvVXBkYXRlLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgICAgICAgIHRhc2tUb1VwZGF0ZS5yZXNwb25zaWJsZSA9IHJlc3BvbnNpYmxlO1xuICAgICAgICAgICAgICB0YXNrVG9VcGRhdGUuZGVwZW5kZW5jeSA9IGRlcGVuZGVuY3lUYXNrcztcbiAgICAgICAgICAgICAgbmV3IE5vdGljZShgXHUyNzA1IFRhcmVmYSBJRCAke2VkaXRpbmdUYXNrSWR9IGF0dWFsaXphZGEuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVkaXRpbmdUYXNrSWQgPSBudWxsO1xuICAgICAgICAgIGlkSW5wdXQucmVhZE9ubHkgPSBmYWxzZTtcbiAgICAgICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkFkaWNpb25hciBUYXJlZmFcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRU46IE90aGVyd2lzZSwgYWRkIGEgbmV3IHRhc2suXG4gICAgICAgICAgLy8gUFQtQlI6IENhc28gY29udHJcdTAwRTFyaW8sIGFkaWNpb25hIHVtYSBub3ZhIHRhcmVmYS5cbiAgICAgICAgICBpZiAoaXNOYU4oY3VycmVudElkKSB8fCBjdXJyZW50SWQgPD0gMCkge1xuICAgICAgICAgICAgICBuZXcgTm90aWNlKFwiXHUyNkEwXHVGRTBGIElEIGRhIHRhcmVmYSBpbnZcdTAwRTFsaWRvLiBEZXZlIHNlciB1bSBuXHUwMEZBbWVybyBwb3NpdGl2by5cIik7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRhc2tzLnNvbWUodCA9PiB0LmlkID09PSBjdXJyZW50SWQpKSB7XG4gICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFx1MjZBMFx1RkUwRiBKXHUwMEUxIGV4aXN0ZSB1bWEgdGFyZWZhIGNvbSBvIElEICR7Y3VycmVudElkfS5gKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0YXNrcy5wdXNoKG5ldyBUYXNrKGN1cnJlbnRJZCwgbmFtZSwgcmVzcG9uc2libGUsIGR1cmF0aW9uLCBkZXBlbmRlbmN5VGFza3MpKTtcbiAgICAgICAgICBuZXcgTm90aWNlKFwiXHUyNzA1IFRhcmVmYSBhZGljaW9uYWRhLlwiKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZVRhc2tzKCk7XG4gICAgICBmb3JtLnJlc2V0KCk7XG4gICAgfSk7XG5cbiAgICAvLyBFTjogRXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBcIkluc2VydCBUYWJsZSBpbiBOb3RlXCIgYnV0dG9uLlxuICAgIC8vIFBULUJSOiBPdXZpbnRlIGRlIGV2ZW50b3MgcGFyYSBvIGJvdFx1MDBFM28gXCJJbnNlcmlyIFRhYmVsYSBuYSBub3RhXCIuXG4gICAgaW5zZXJ0TWRCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBpZiAodGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoXCJcdTI2QTBcdUZFMEYgTmVuaHVtYSB0YXJlZmEgcGFyYSBleHBvcnRhci5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaW5zZXJ0VGFibGVJbk5vdGUodGFza3MsIHRoaXMuYXBwKTtcbiAgICB9KTtcblxuICAgIC8vIEVOOiBFdmVudCBsaXN0ZW5lciBmb3IgdGhlIFwiU2F2ZSB0byBDYW52YXNcIiBidXR0b24uXG4gICAgLy8gUFQtQlI6IE91dmludGUgZGUgZXZlbnRvcyBwYXJhIG8gYm90XHUwMEUzbyBcIlNhbHZhciBwYXJhIENhbnZhc1wiLlxuICAgIHNhdmVDYW52YXNCdG4/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCkpIHtcbiAgICAgICAgbmV3IE5vdGljZShcIlx1MjZBMFx1RkUwRiBOZW5odW1hIG5vdGEgYXRpdmEgcGFyYSBzYWx2YXIgbyBjYW52YXMuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzYXZlVG9DYW52YXModGFza3MsIHRoaXMuYXBwKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEVOOiBSZXR1cm5zIHRoZSBDU1Mgc3R5bGVzIGZvciB0aGUgdmlldy5cbiAgLy8gUFQtQlI6IFJldG9ybmEgb3MgZXN0aWxvcyBDU1MgcGFyYSBhIHZpc3VhbGl6YVx1MDBFN1x1MDBFM28uXG4gIGdldFN0eWxlQ1NTKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBcbiAgICAgIGJvZHkgeyBmb250LWZhbWlseTogc2Fucy1zZXJpZjsgcGFkZGluZzogMTBweDsgfVxuICAgICAgaW5wdXQsIGJ1dHRvbiB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMTAwJTsgbWFyZ2luLWJvdHRvbTogOHB4OyBwYWRkaW5nOiA2cHg7IH1cbiAgICAgIHRhYmxlIHsgd2lkdGg6IDEwMCU7IGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IG1hcmdpbi10b3A6IDE1cHg7IH1cbiAgICAgIHRoLCB0ZCB7IGJvcmRlcjogMXB4IHNvbGlkICNjY2M7IHBhZGRpbmc6IDZweDsgdGV4dC1hbGlnbjogbGVmdDsgfVxuICAgICAgLmdhbnR0LWNvbnRhaW5lciB7IG92ZXJmbG93LXg6IGF1dG87IGhlaWdodDogMzAwcHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IH1cbiAgICAgICNnYW50dC1jaGFydCB7IG1pbi13aWR0aDogMTAwMHB4OyBoZWlnaHQ6IGF1dG87IH1cbiAgICAgIC5hY3Rpb24tYnV0dG9ucyB7IG1hcmdpbi10b3A6IDEwcHg7IH1cbiAgICAgIC5hY3Rpb24tYnV0dG9ucyBidXR0b24sIC50YXNrLWZvcm0gYnV0dG9uIHsgbWFyZ2luLXJpZ2h0OiA1cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IGF1dG87IH1cbiAgICAgICN0YXNrcy10YWJsZSBidXR0b24ge1xuICAgICAgICAgIHBhZGRpbmc6IDNweCA2cHg7XG4gICAgICAgICAgbWFyZ2luOiAwIDJweDtcbiAgICAgICAgICBmb250LXNpemU6IDFlbTsgLyogRW1vamlzIHNcdTAwRTNvIGNhcmFjdGVyZXMsIGVudFx1MDBFM28gbyB0YW1hbmhvIGRhIGZvbnRlIG9zIGFmZXRhICovXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTsgLyogUmVtb3ZlIGJvcmRhIHBhZHJcdTAwRTNvICovXG4gICAgICAgICAgYmFja2dyb3VuZDogbm9uZTsgLyogUmVtb3ZlIGZ1bmRvIHBhZHJcdTAwRTNvICovXG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDE7IC8qIFBhcmEgYWxpbmhhciBtZWxob3Igb3MgZW1vamlzICovXG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuIiwgImV4cG9ydCBjbGFzcyBUYXNrIHtcbiAgICBpZDogbnVtYmVyO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICByZXNwb25zaWJsZTogc3RyaW5nO1xuICAgIGR1cmF0aW9uOiBudW1iZXI7XG4gICAgZGVwZW5kZW5jeTogVGFza1tdOyAvLyBBbHRlcmFkbyBkZSBUYXNrIHwgbnVsbCBwYXJhIFRhc2tbXVxuICAgIGVhcmx5U3RhcnQ/OiBudW1iZXI7IFxuICAgIGVhcmx5RmluaXNoPzogbnVtYmVyOyBcbiAgICBsYXRlRmluaXNoPzogbnVtYmVyO1xuICAgIGxhdGVTdGFydD86IG51bWJlcjtcbiAgICBzbGFjaz86IG51bWJlcjtcbiAgICBpc0NyaXRpY2FsPzogYm9vbGVhbjsgXG4gIFxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nLCBcbiAgICAgICAgICAgICAgICByZXNwb25zaWJsZTogc3RyaW5nLCBcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogbnVtYmVyLFxuICAgICAgICAgICAgICAgIGRlcGVuZGVuY3k6IFRhc2tbXSA9IFtdKSB7IC8vIFZhbG9yIHBhZHJcdTAwRTNvIGUgdGlwbyBhbHRlcmFkb3NcbiAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICB0aGlzLnJlc3BvbnNpYmxlID0gcmVzcG9uc2libGU7XG4gICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICB0aGlzLmRlcGVuZGVuY3kgPSBkZXBlbmRlbmN5OyAvLyBBZ29yYSBcdTAwRTkgdW0gYXJyYXlcbiAgICAgIHRoaXMuZWFybHlTdGFydCA9IDA7XG4gICAgICB0aGlzLmVhcmx5RmluaXNoID0gMDtcbiAgICAgIHRoaXMubGF0ZUZpbmlzaCA9IDA7XG4gICAgICB0aGlzLmxhdGVTdGFydCA9IDA7XG4gICAgICB0aGlzLnNsYWNrID0gMDtcbiAgICAgIHRoaXMuaXNDcml0aWNhbCA9IGZhbHNlO1xuICAgIH1cblxuXG4gICAgY3JlYXRlTm9kZShpOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB7XG4gICAgICAgICAgICBpZDogYCR7dGhpcy5pZH1gICxcbiAgICAgICAgICAgIHR5cGU6XCJ0ZXh0XCIsXG4gICAgICAgICAgICB0ZXh0OmBbWyR7dGhpcy5uYW1lfV1dYCxcbiAgICAgICAgICAgIHg6IGAke3RoaXMuZWFybHlTdGFydCEqMTMwfWAsXG4gICAgICAgICAgICB5OmAke2kqNTB9YCxcbiAgICAgICAgICAgIHdpZHRoOmAke3RoaXMuZHVyYXRpb24gKiAxMzB9IGAsXG4gICAgICAgICAgICBoZWlnaHQ6NTAsXG4gICAgICAgICAgICBjb2xvcjpgJHt0aGlzLmlzQ3JpdGljYWwgPyAxIDogNX1gLFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuXG4gICAgLy8gR2VyYSBhcmVzdGFzIHBhcmEgVE9EQVMgYXMgZGVwZW5kXHUwMEVBbmNpYXMgZGVzdGEgdGFyZWZhXG4gICAgY3JlYXRlRWRnZXMgKCk6IGFueVtdIHsgLy8gUmVtb3ZpZG8gcGFyXHUwMEUybWV0cm8gJ2knIG5cdTAwRTNvIHV0aWxpemFkbywgcmV0b3JuYSBhcnJheSBkZSBhcmVzdGFzXG4gICAgICAgIGNvbnN0IGVkZ2VzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZGVwVGFzayBvZiB0aGlzLmRlcGVuZGVuY3kpIHtcbiAgICAgICAgICAgIGVkZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBgZWRnZS0ke2RlcFRhc2suaWR9LXRvLSR7dGhpcy5pZH1gLCAvLyBJRCBkYSBhcmVzdGEgbWFpcyBlc3BlY1x1MDBFRGZpY29cbiAgICAgICAgICAgICAgICBmcm9tTm9kZTogYCR7ZGVwVGFzay5pZH1gLFxuICAgICAgICAgICAgICAgIGZyb21TaWRlOiBcInJpZ2h0XCIsXG4gICAgICAgICAgICAgICAgdG9Ob2RlOiBgJHt0aGlzLmlkfWAsXG4gICAgICAgICAgICAgICAgdG9TaWRlOiBcImxlZnRcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlZGdlcztcbiAgICB9XG59XG5cbiAgXG4iLCAiaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuLi9tb2RlbHMvdGFza3NcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gZHJhd0dhbnR0KHRhc2tzOiBUYXNrW10sIG1heEVuZERhdGU6IG51bWJlciwgY2hhcnRDb250YWluZXI6IFNWR1NWR0VsZW1lbnQpIHtcbiAgICBjaGFydENvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGNvbnN0IGNoYXJ0V2lkdGggPSA1MDA7XG4gICAgY29uc3Qgc2NhbGUgPSBjaGFydFdpZHRoIC8gKG1heEVuZERhdGUgfHwgMSk7XG4gICAgY29uc3QgYmFySGVpZ2h0ID0gMjA7XG4gICAgY29uc3Qgcm93SGVpZ2h0ID0gMzA7XG4gIFxuICAgIGNoYXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCAodGFza3MubGVuZ3RoICogcm93SGVpZ2h0ICsgMjApLnRvU3RyaW5nKCkpO1xuICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBtYXhFbmREYXRlOyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInRleHRcIik7XG4gICAgICB0ZXh0LnNldEF0dHJpYnV0ZShcInhcIiwgKGkgKiBzY2FsZSkudG9TdHJpbmcoKSk7XG4gICAgICB0ZXh0LnNldEF0dHJpYnV0ZShcInlcIiwgXCIxNVwiKTtcbiAgICAgIHRleHQuc2V0QXR0cmlidXRlKFwiZm9udC1zaXplXCIsIFwiMTJcIik7XG4gICAgICB0ZXh0LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCIjMzMzXCIpO1xuICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGkudG9TdHJpbmcoKTtcbiAgICAgIGNoYXJ0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRleHQpO1xuICAgIH1cbiAgXG4gICAgdGFza3MuZm9yRWFjaCgodGFzaywgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHggPSAodGFzay5lYXJseVN0YXJ0IHx8IDApICogc2NhbGU7XG4gICAgICBjb25zdCB5ID0gaW5kZXggKiByb3dIZWlnaHQgKyAxMDtcbiAgICAgIGNvbnN0IHdpZHRoID0gKHRhc2suZHVyYXRpb24gfHwgMCkgKiBzY2FsZTtcbiAgXG4gICAgICBjb25zdCByZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJyZWN0XCIpO1xuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoXCJ4XCIsIHgudG9TdHJpbmcoKSk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZShcInlcIiwgeS50b1N0cmluZygpKTtcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgd2lkdGgudG9TdHJpbmcoKSk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBiYXJIZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgdGFzay5pc0NyaXRpY2FsID8gXCIjZWY0NDQ0XCIgOiBcIiMzYjgyZjZcIik7XG4gICAgICByZWN0LnNldEF0dHJpYnV0ZShcInJ4XCIsIFwiNVwiKTtcbiAgICAgIGNoYXJ0Q29udGFpbmVyLmFwcGVuZENoaWxkKHJlY3QpO1xuICBcbiAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJ0ZXh0XCIpO1xuICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKFwieFwiLCAoeCArIDUpLnRvU3RyaW5nKCkpO1xuICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKFwieVwiLCAoeSArIGJhckhlaWdodCAvIDIgKyA1KS50b1N0cmluZygpKTtcbiAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJ3aGl0ZVwiKTtcbiAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZShcImZvbnQtc2l6ZVwiLCBcIjEyXCIpO1xuICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSB0YXNrLm5hbWU7XG4gICAgICBjaGFydENvbnRhaW5lci5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgfSk7XG4gIH0iLCAiaW1wb3J0IHsgVGFzayB9IGZyb20gXCIuLi9tb2RlbHMvdGFza3NcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQ1BNKHRhc2tMaXN0OiBUYXNrW10pIHtcbiAgICAvLyBHYXJhbnRlIHF1ZSB0b2RhcyBhcyB0YXJlZmFzIHRlbmhhbSBhcyBwcm9wcmllZGFkZXMgQ1BNIGluaWNpYWxpemFkYXNcbiAgICB0YXNrTGlzdC5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICB0YXNrLmVhcmx5U3RhcnQgPSAwO1xuICAgICAgICB0YXNrLmVhcmx5RmluaXNoID0gMDtcbiAgICAgICAgdGFzay5sYXRlU3RhcnQgPSAwO1xuICAgICAgICB0YXNrLmxhdGVGaW5pc2ggPSAwO1xuICAgICAgICB0YXNrLnNsYWNrID0gMDtcbiAgICAgICAgdGFzay5pc0NyaXRpY2FsID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBGb3J3YXJkIFBhc3M6IENhbGN1bGEgSW5cdTAwRURjaW8gQ2VkbyAoRVMpIGUgRmltIENlZG8gKEVGKVxuICAgIC8vIEFzc3VtZSBxdWUgdGFza0xpc3QgcG9kZSBzZXIgcHJvY2Vzc2FkYSBuYSBvcmRlbSBhdHVhbCBvdSBxdWUgb3MgSURzIGltcGxpY2FtIG9yZGVtLlxuICAgIC8vIFBhcmEgcm9idXN0ZXosIHVtYSBvcmRlbmFcdTAwRTdcdTAwRTNvIHRvcG9sXHUwMEYzZ2ljYSBvdSBjXHUwMEUxbGN1bG8gaXRlcmF0aXZvIGF0XHUwMEU5IGNvbnZlcmdcdTAwRUFuY2lhIHNlcmlhIG5lY2Vzc1x1MDBFMXJpb1xuICAgIC8vIHNlIGFzIGRlcGVuZFx1MDBFQW5jaWFzIHB1ZGVyZW0gYXBvbnRhciBwYXJhIHRhcmVmYXMgcG9zdGVyaW9yZXMgbm8gYXJyYXkuXG4gICAgdGFza0xpc3QuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgaWYgKHRhc2suZGVwZW5kZW5jeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBFUyBcdTAwRTkgbyBtXHUwMEUxeGltbyBFRiBkZSB0b2RvcyBvcyBzZXVzIHByZWRlY2Vzc29yZXMgZGlyZXRvc1xuICAgICAgICAgICAgY29uc3QgbWF4UHJlZGVjZXNzb3JFRiA9IE1hdGgubWF4KDAsIC4uLnRhc2suZGVwZW5kZW5jeS5tYXAoZGVwID0+IHtcbiAgICAgICAgICAgICAgICAvLyBFbmNvbnRyYSBvIG9iamV0byBkYSB0YXJlZmEgcmVhbCBwYXJhIGEgZGVwZW5kXHUwMEVBbmNpYSBuYSBsaXN0YSBhdHVhbFxuICAgICAgICAgICAgICAgIGNvbnN0IHByZWRlY2Vzc29yID0gdGFza0xpc3QuZmluZChwID0+IHAuaWQgPT09IGRlcC5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWRlY2Vzc29yPy5lYXJseUZpbmlzaCB8fCAwOyAvLyBVc2EgMCBzZSBvIHByZWRlY2Vzc29yIG5cdTAwRTNvIGZvciBlbmNvbnRyYWRvIG91IEVGIG5cdTAwRTNvIGVzdGl2ZXIgZGVmaW5pZG9cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHRhc2suZWFybHlTdGFydCA9IG1heFByZWRlY2Vzc29yRUY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXNrLmVhcmx5U3RhcnQgPSAwOyAvLyBUYXJlZmFzIHNlbSBkZXBlbmRcdTAwRUFuY2lhcyBjb21lXHUwMEU3YW0gZW0gMFxuICAgICAgICB9XG4gICAgICAgIHRhc2suZWFybHlGaW5pc2ggPSAodGFzay5lYXJseVN0YXJ0IHx8IDApICsgdGFzay5kdXJhdGlvbjtcbiAgICB9KTtcblxuICAgIGxldCBtYXhFbmREYXRlID0gMDtcbiAgICB0YXNrTGlzdC5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBpZiAodGFzay5lYXJseUZpbmlzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtYXhFbmREYXRlID0gTWF0aC5tYXgobWF4RW5kRGF0ZSwgdGFzay5lYXJseUZpbmlzaCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEJhY2t3YXJkIFBhc3M6IENhbGN1bGEgRmltIFRhcmRlIChMRikgZSBJblx1MDBFRGNpbyBUYXJkZSAoTFMpXG4gICAgWy4uLnRhc2tMaXN0XS5yZXZlcnNlKCkuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgLy8gRW5jb250cmEgdGFyZWZhcyBxdWUgZGVwZW5kZW0gZGEgdGFyZWZhIGF0dWFsIChzZXVzIHN1Y2Vzc29yZXMpXG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NvcnMgPSB0YXNrTGlzdC5maWx0ZXIoc3VjY2Vzc29yID0+XG4gICAgICAgICAgICBzdWNjZXNzb3IuZGVwZW5kZW5jeS5zb21lKGRlcCA9PiBkZXAuaWQgPT09IHRhc2suaWQpXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHN1Y2Nlc3NvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gTEYgXHUwMEU5IG8gbVx1MDBFRG5pbW8gTFMgZGUgdG9kb3Mgb3Mgc2V1cyBzdWNlc3NvcmVzIGRpcmV0b3NcbiAgICAgICAgICAgIHRhc2subGF0ZUZpbmlzaCA9IE1hdGgubWluKC4uLnN1Y2Nlc3NvcnMubWFwKHMgPT4gcy5sYXRlU3RhcnQgPT09IHVuZGVmaW5lZCA/IEluZmluaXR5IDogcy5sYXRlU3RhcnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRhcmVmYXMgc2VtIHN1Y2Vzc29yZXMgdGVybWluYW0gbmEgZGF0YSBtXHUwMEUxeGltYSBkZSB0XHUwMEU5cm1pbm8gZG8gcHJvamV0b1xuICAgICAgICAgICAgdGFzay5sYXRlRmluaXNoID0gbWF4RW5kRGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhc2subGF0ZVN0YXJ0ID0gKHRhc2subGF0ZUZpbmlzaCA9PT0gdW5kZWZpbmVkID8gbWF4RW5kRGF0ZSA6IHRhc2subGF0ZUZpbmlzaCkgLSB0YXNrLmR1cmF0aW9uO1xuICAgICAgICB0YXNrLnNsYWNrID0gKHRhc2subGF0ZVN0YXJ0IHx8IDApIC0gKHRhc2suZWFybHlTdGFydCB8fCAwKTtcbiAgICAgICAgdGFzay5pc0NyaXRpY2FsID0gdGFzay5zbGFjayA9PT0gMDtcbiAgICAgICAgaWYgKE9iamVjdC5pcyh0YXNrLnNsYWNrLCAtMCkpIHRhc2suc2xhY2sgPSAwOyAvLyBDb3JyaWdlIC0wIHBhcmEgMFxuICAgICAgICB0YXNrLmlzQ3JpdGljYWwgPSB0YXNrLnNsYWNrID09PSAwO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHsgdGFza3M6IHRhc2tMaXN0LCBtYXhFbmREYXRlIH07XG4gIH0iLCAiaW1wb3J0IHsgQXBwLCBOb3RpY2UsIG5vcm1hbGl6ZVBhdGgsIFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4uL21vZGVscy90YXNrc1wiO1xuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlVG9DYW52YXModGFza3M6IFRhc2tbXSwgYXBwOiBBcHApIHtcbiAgICBjb25zdCBhY3RpdmVGaWxlID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgaWYgKCFhY3RpdmVGaWxlKSB7XG4gICAgICBuZXcgTm90aWNlKFwiXHUyNkEwXHVGRTBGIE5lbmh1bWEgbm90YSBhdGl2YS4gTlx1MDBFM28gXHUwMEU5IHBvc3NcdTAwRUR2ZWwgc2FsdmFyIG8gY2FudmFzLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjYW52YXNGaWxlTmFtZSA9IGAke2FjdGl2ZUZpbGUuYmFzZW5hbWV9R2FudHQuY2FudmFzYDtcbiAgICBjb25zdCBmb2xkZXJQYXRoID0gYWN0aXZlRmlsZS5wYXJlbnQgPyBhY3RpdmVGaWxlLnBhcmVudC5wYXRoIDogXCJcIjtcbiAgICBjb25zdCBuZXdDYW52YXNGaWxlUGF0aCA9IG5vcm1hbGl6ZVBhdGgoYCR7Zm9sZGVyUGF0aH0vJHtjYW52YXNGaWxlTmFtZX1gKTtcblxuICAgIGxldCBjYW52YXNEYXRhOiB7IG5vZGVzOiBhbnlbXTsgZWRnZXM6IGFueVtdIH0gID0ge1xuICAgICAgbm9kZXM6IFtdLFxuICAgICAgZWRnZXM6IFtdLFxuICAgIH07XG4gICAgbGV0IHRvdGFsRGF5czogbnVtYmVyID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0YXNrID0gdGFza3NbaV07XG4gICAgIGlmKHRhc2suZWFybHlGaW5pc2ghID4gdG90YWxEYXlzKXtcbiAgICAgICAgdG90YWxEYXlzID0gdGFzay5lYXJseUZpbmlzaCE7XG4gICAgICB9XG4gICAgXG4gICAgICBpZiAodGFzay5lYXJseVN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0YXNrLmNyZWF0ZU5vZGUoaSk7XG4gICAgICAgIGNhbnZhc0RhdGEubm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0YXNrLmRlcGVuZGVuY3kgJiYgdGFzay5kZXBlbmRlbmN5Lmxlbmd0aCA+IDApIHsgXG4gICAgICAgICAgY29uc3QgbmV3RWRnZXMgPSB0YXNrLmNyZWF0ZUVkZ2VzKCk7IFxuICAgICAgICAgIGNhbnZhc0RhdGEuZWRnZXMucHVzaCguLi5uZXdFZGdlcyk7IFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICggbGV0IGkgPSAwOyBpIDwgdG90YWxEYXlzOyBpKyspe1xuICAgICAgY29uc3QgZGF5ID0gXG4gICAgICAgICAge2lkOmBkYXktJHtpKzF9YCxcbiAgICAgICAgICB0eXBlOlwidGV4dFwiLFxuICAgICAgICAgIHRleHQ6YCR7aSsxfWAsXG4gICAgICAgICAgeDpgJHtpKjEzMH1gLFxuICAgICAgICAgIHk6LTEyMCxcbiAgICAgICAgICB3aWR0aDoxMzAsXG4gICAgICAgICAgaGVpZ2h0OjUwfVxuICAgICAgICAgIGNhbnZhc0RhdGEubm9kZXMucHVzaChkYXkpO1xuICAgICAgICAgIFxuICAgIH1cblxuICAgIGNvbnN0IGNhbnZhc0NvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShjYW52YXNEYXRhLCBudWxsLCAyKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBleGlzdGluZ0ZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG5ld0NhbnZhc0ZpbGVQYXRoKTsgXG4gICAgICBpZiAoZXhpc3RpbmdGaWxlICYmIGV4aXN0aW5nRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICBcbiAgICAgICAgYXdhaXQgYXBwLnZhdWx0Lm1vZGlmeShleGlzdGluZ0ZpbGUsIGNhbnZhc0NvbnRlbnQpO1xuICAgICAgICBuZXcgTm90aWNlKGBcdTI3MDUgQ2FudmFzIFwiJHtjYW52YXNGaWxlTmFtZX1cIiBhdHVhbGl6YWRvIG5hIHBhc3RhIGRhIG5vdGEhYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgYXBwLnZhdWx0LmNyZWF0ZShuZXdDYW52YXNGaWxlUGF0aCwgY2FudmFzQ29udGVudCk7XG4gICAgICAgIG5ldyBOb3RpY2UoYFx1MjcwNSBDYW52YXMgXCIke2NhbnZhc0ZpbGVOYW1lfVwiIGNyaWFkbyBuYSBwYXN0YSBkYSBub3RhIWApO1xuXG4gICAgICAgIFxuICAgICAgICBpZiAoYWN0aXZlRmlsZSkgeyBcbiAgICAgICAgICBjb25zdCBsaW5rSW50ZXJubzogc3RyaW5nID0gYFxcblxcbiFbWyR7Y2FudmFzRmlsZU5hbWV9XV1cXG5gOyBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgYXBwLnZhdWx0LmFwcGVuZChhY3RpdmVGaWxlLCBsaW5rSW50ZXJubyk7XG4gICAgICAgICAgICBuZXcgTm90aWNlKFwiXHUyNzA1IExpbmsgcGFyYSBvIENhbnZhcyBpbnNlcmlkbyBuYSBub3RhIVwiKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBpbnNlcmlyIGxpbmsgZG8gY2FudmFzIG5hIG5vdGE6XCIsIGVycm8pO1xuICAgICAgICAgICAgbmV3IE5vdGljZShcIlx1Mjc0QyBFcnJvIGFvIGluc2VyaXIgbGluayBkbyBjYW52YXMgbmEgbm90YS5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIHNhbHZhci9hdHVhbGl6YXIgYXJxdWl2byBjYW52YXM6XCIsIGVycm9yKTtcbiAgICAgIG5ldyBOb3RpY2UoYFx1Mjc0QyBFcnJvIGFvIHNhbHZhci9hdHVhbGl6YXIgbyBhcnF1aXZvIGNhbnZhczogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfSIsICJpbXBvcnQgeyBBcHAsIE5vdGljZX0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBUYXNrIH0gZnJvbSBcIi4uL21vZGVscy90YXNrc1wiO1xuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnRUYWJsZUluTm90ZSh0YXNrczogVGFza1tdLCBhcHA6IEFwcCkge1xuICBjb25zdCBhY3RpdmVGaWxlID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gIGlmICghYWN0aXZlRmlsZSkge1xuICAgIG5ldyBOb3RpY2UoXCJcdTI2QTBcdUZFMEYgTmVuaHVtYSBub3RhIGFiZXJ0YS5cIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCF0YXNrcyB8fCB0YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICBuZXcgTm90aWNlKFwiXHUyNkEwXHVGRTBGIE5lbmh1bWEgdGFyZWZhIHBhcmEgaW5zZXJpci5cIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgaGVhZGVycyA9IFtcIklEXCIsIFwiTm9tZVwiLCBcIkR1cmFcdTAwRTdcdTAwRTNvXCIsIFwiRGVwZW5kXHUwMEVBbmNpYVwiLCBcIlJlc3BvbnNcdTAwRTF2ZWxcIiwgXCJJblx1MDBFRGNpb1wiLCBcIkZpbVwiLCBcIlNsYWNrXCIsIFwiQ3JcdTAwRUR0aWNhXCJdO1xuICBsZXQgbWFya2Rvd24gPSBcInwgXCIgKyBoZWFkZXJzLmpvaW4oXCIgfCBcIikgKyBcIiB8XFxuXCI7XG4gIG1hcmtkb3duICs9IFwifC0tLXwtLS18LS0tfC0tLXwtLS18LS0tfC0tLXwtLS18LS0tfFxcblwiO1xuXG4gIHRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgY29uc3QgZGVwZW5kZW5jeU5hbWVzID0gdGFzay5kZXBlbmRlbmN5Lm1hcChkID0+IGBbWyR7ZC5uYW1lfV1dYCkuam9pbignLCAnKSB8fCBcIi1cIjtcbiAgICBjb25zdCByZXNwb25zaWJsZU5hbWUgPSB0YXNrLnJlc3BvbnNpYmxlID8gYFtbJHt0YXNrLnJlc3BvbnNpYmxlfV1dYCA6IFwiLVwiO1xuICAgIG1hcmtkb3duICs9IGB8ICR7dGFzay5pZH0gfCBbWyR7dGFzay5uYW1lfV1dIHwgJHt0YXNrLmR1cmF0aW9ufSB8ICR7ZGVwZW5kZW5jeU5hbWVzfSB8ICR7cmVzcG9uc2libGVOYW1lfSB8ICR7dGFzay5lYXJseVN0YXJ0ISsxfSB8ICR7dGFzay5lYXJseUZpbmlzaCA/PyBcIi1cIn0gfCAke3Rhc2suc2xhY2sgPz8gXCItXCJ9IHwgJHt0YXNrLmlzQ3JpdGljYWwgPyBcIlNpbVwiIDogXCJOXHUwMEUzb1wifSB8XFxuYDtcbiAgfSk7XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBhcHAudmF1bHQuYXBwZW5kKGFjdGl2ZUZpbGUsIGBcXG4ke21hcmtkb3dufVxcbmApO1xuICAgIG5ldyBOb3RpY2UoXCJcdTI3MDUgVGFiZWxhIGVtIE1hcmtkb3duIGluc2VyaWRhIGNvbSBzdWNlc3NvIVwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gaW5zZXJpciBuYSBub3RhOlwiLCBlcnIpO1xuICAgIG5ldyBOb3RpY2UoXCJcdTI3NEMgRXJybyBhbyBpbnNlcmlyIHRhYmVsYSBuYSBub3RhLlwiKTtcbiAgfVxufSIsICJpbXBvcnQgeyBUYXNrIH0gZnJvbSBcInNyYy9tb2RlbHMvdGFza3NcIjtcbmltcG9ydCB7IEFwcCwgTm90aWNlLCBub3JtYWxpemVQYXRoIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cblxuZXhwb3J0IGNsYXNzIFRhc2tSZXBvc2l0b3J5IHtcbiAgICBzdGF0aWMgYXN5bmMgcmVhZFRhc2tzRnJvbUpzb24oYXBwOiBBcHAsIGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPFRhc2tbXT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gYWN0aXZlRmlsZT8ucGFyZW50ID8gYWN0aXZlRmlsZS5wYXJlbnQucGF0aCA6IFwiXCI7XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gbm9ybWFsaXplUGF0aChgJHtmb2xkZXJQYXRofS8ke2ZpbGVuYW1lfWApO1xuXG4gICAgICAgIGlmICghYXdhaXQgYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKGZpbGVQYXRoKSkge1xuICAgICAgICAgIG5ldyBOb3RpY2UoYEFycXVpdm8gJHtmaWxlbmFtZX0gblx1MDBFM28gZW5jb250cmFkbyBuYSBwYXN0YSBkYSBub3RhIGF0aXZhLmApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBBcnF1aXZvIG5cdTAwRTNvIGVuY29udHJhZG86ICR7ZmlsZVBhdGh9YCk7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgYXBwLnZhdWx0LmFkYXB0ZXIucmVhZChmaWxlUGF0aCk7XG4gICAgICAgIGNvbnN0IHJhd1Rhc2tzOiBhbnlbXSA9IEpTT04ucGFyc2UoZmlsZUNvbnRlbnQpO1xuICAgICAgICBuZXcgTm90aWNlKGBBcnF1aXZvICR7ZmlsZW5hbWV9IGNhcnJlZ2FkbyBjb20gJHtyYXdUYXNrcy5sZW5ndGh9IHRhcmVmYXMuYCk7XG4gIFxuICAgICAgICBjb25zdCB0YXNrczogVGFza1tdID0gcmF3VGFza3MubWFwKHJhd1Rhc2sgPT4ge1xuICAgICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgVGFzayhcbiAgICAgICAgICAgIHJhd1Rhc2suaWQsXG4gICAgICAgICAgICByYXdUYXNrLm5hbWUsXG4gICAgICAgICAgICByYXdUYXNrLnJlc3BvbnNpYmxlLFxuICAgICAgICAgICAgcmF3VGFzay5kdXJhdGlvblxuICAgICAgICAgICk7XG4gICAgICAgICAgdGFzay5lYXJseVN0YXJ0ID0gcmF3VGFzay5lYXJseVN0YXJ0O1xuICAgICAgICAgIHRhc2suZWFybHlGaW5pc2ggPSByYXdUYXNrLmVhcmx5RmluaXNoO1xuICAgICAgICAgIHRhc2subGF0ZUZpbmlzaCA9IHJhd1Rhc2subGF0ZUZpbmlzaDtcbiAgICAgICAgICB0YXNrLmxhdGVTdGFydCA9IHJhd1Rhc2subGF0ZVN0YXJ0O1xuICAgICAgICAgIHRhc2suc2xhY2sgPSByYXdUYXNrLnNsYWNrO1xuICAgICAgICAgIHRhc2suaXNDcml0aWNhbCA9IHJhd1Rhc2suaXNDcml0aWNhbDtcbiAgICAgICAgICByZXR1cm4gdGFzaztcbiAgICAgICAgfSk7XG4gIFxuICAgICAgICBjb25zdCB0YXNrTWFwID0gbmV3IE1hcDxudW1iZXIsIFRhc2s+KHRhc2tzLm1hcCh0YXNrID0+IFt0YXNrLmlkLCB0YXNrXSkpO1xuICAgICAgICB0YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICAgIGNvbnN0IHJhd1Rhc2sgPSByYXdUYXNrcy5maW5kKHJ0ID0+IHJ0LmlkID09PSB0YXNrLmlkKTtcbiAgICAgICAgICBpZiAocmF3VGFzaz8uZGVwZW5kZW5jeSAmJiB0eXBlb2YgcmF3VGFzay5kZXBlbmRlbmN5ID09PSAnb2JqZWN0JyAmJiByYXdUYXNrLmRlcGVuZGVuY3kuaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGFzay5kZXBlbmRlbmN5ID0gdGFza01hcC5nZXQocmF3VGFzay5kZXBlbmRlbmN5LmlkKSB8fCBudWxsO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJhd1Rhc2s/LmRlcGVuZGVuY3kgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0YXNrLmRlcGVuZGVuY3kgPSB0YXNrTWFwLmdldChyYXdUYXNrLmRlcGVuZGVuY3kpIHx8IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhc2suZGVwZW5kZW5jeSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhc2tzOyBcbiAgXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBuZXcgTm90aWNlKGBFcnJvIGFvIGxlciBvdSBhbmFsaXNhciBvIGFycXVpdm8gJHtmaWxlbmFtZX06ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJybyBhbyBsZXIgb3UgYW5hbGlzYXIgbyBhcnF1aXZvIEpTT04gKCR7ZmlsZW5hbWV9KTpgLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAgc3RhdGljIGFzeW5jIHNhdmVUYXNrc1RvSnNvbihhcHA6IEFwcCwgZmlsZW5hbWU6IHN0cmluZywgdGFza3M6IFRhc2tbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gYWN0aXZlRmlsZT8ucGFyZW50ID8gYWN0aXZlRmlsZS5wYXJlbnQucGF0aCA6IFwiXCI7XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gbm9ybWFsaXplUGF0aChgJHtmb2xkZXJQYXRofS8ke2ZpbGVuYW1lfWApO1xuXG4gICAgICAgIGNvbnN0IHJhd1Rhc2tzVG9TYXZlID0gdGFza3MubWFwKHRhc2sgPT4gKHtcbiAgICAgICAgICBpZDogdGFzay5pZCxcbiAgICAgICAgICBuYW1lOiB0YXNrLm5hbWUsXG4gICAgICAgICAgcmVzcG9uc2libGU6IHRhc2sucmVzcG9uc2libGUsXG4gICAgICAgICAgZHVyYXRpb246IHRhc2suZHVyYXRpb24sXG4gICAgICAgICAgZGVwZW5kZW5jeTogdGFzay5kZXBlbmRlbmN5ID8gdGFzay5kZXBlbmRlbmN5LmlkIDogbnVsbCxcbiAgICAgICAgICBlYXJseVN0YXJ0OiB0YXNrLmVhcmx5U3RhcnQsXG4gICAgICAgICAgZWFybHlGaW5pc2g6IHRhc2suZWFybHlGaW5pc2gsXG4gICAgICAgICAgbGF0ZUZpbmlzaDogdGFzay5sYXRlRmluaXNoLFxuICAgICAgICAgIGxhdGVTdGFydDogdGFzay5sYXRlU3RhcnQsXG4gICAgICAgICAgc2xhY2s6IHRhc2suc2xhY2ssXG4gICAgICAgICAgaXNDcml0aWNhbDogdGFzay5pc0NyaXRpY2FsLFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc3QganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHJhd1Rhc2tzVG9TYXZlLCBudWxsLCAyKTtcbiAgICAgICAgYXdhaXQgYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoZmlsZVBhdGgsIGpzb25TdHJpbmcpO1xuICAgICAgICBuZXcgTm90aWNlKGBUYXJlZmFzIHNhbHZhcyBlbSAke2ZpbGVuYW1lfSAoJHt0YXNrcy5sZW5ndGh9IHRhcmVmYXMpLmApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbmV3IE5vdGljZShgRXJybyBhbyBzYWx2YXIgdGFyZWZhcyBlbSAke2ZpbGVuYW1lfTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvIGFvIHNhbHZhciB0YXJlZmFzIG5vIGFycXVpdm8gSlNPTiAoJHtmaWxlbmFtZX0pOmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuICAiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQXVCOzs7QUNDdkIsSUFBQUMsbUJBQTJFOzs7QUNEcEUsSUFBTSxPQUFOLE1BQVc7QUFBQSxFQWFkLFlBQVksSUFDQSxNQUNBLGFBQ0EsVUFDQSxhQUFxQixDQUFDLEdBQUc7QUFDbkMsU0FBSyxLQUFLO0FBQ1YsU0FBSyxPQUFPO0FBQ1osU0FBSyxjQUFjO0FBQ25CLFNBQUssV0FBVztBQUNoQixTQUFLLGFBQWE7QUFDbEIsU0FBSyxhQUFhO0FBQ2xCLFNBQUssY0FBYztBQUNuQixTQUFLLGFBQWE7QUFDbEIsU0FBSyxZQUFZO0FBQ2pCLFNBQUssUUFBUTtBQUNiLFNBQUssYUFBYTtBQUFBLEVBQ3BCO0FBQUEsRUFHQSxXQUFXLEdBQVc7QUFDbEIsUUFBSSxPQUFPO0FBQUEsTUFDUCxJQUFJLEdBQUcsS0FBSztBQUFBLE1BQ1osTUFBSztBQUFBLE1BQ0wsTUFBSyxLQUFLLEtBQUs7QUFBQSxNQUNmLEdBQUcsR0FBRyxLQUFL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
